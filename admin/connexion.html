<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Connexion Admin - MAJAY</title>
  <link rel="stylesheet" href="../css/dashboard.css">
</head>
<body class="auth-page">

<div class="auth-container">
  <div class="auth-card">
    <h2>Connexion SuperAdmin</h2>
    <p>Un code vous sera envoy√© par email</p>

    <form id="adminForm">
      <input
        type="email"
        id="email"
        placeholder="email admin"
        required
      />

      <button type="submit">Recevoir le code</button>
    </form>
  </div>
</div>

<script type="module">
  import { adminAuth } from "../js/admin-auth.js";

  document.getElementById("adminForm").addEventListener("submit", async (e) => {
    e.preventDefault();
    const email = document.getElementById("email").value.trim();

    const res = await adminAuth.demanderOTP(email);

    if (!res.success) {
      alert("‚ùå " + res.error);
      return;
    }

    alert("üì© Code envoy√© par email. V√©rifie ta bo√Æte.");
  });
</script>

</body>
</html>
